# Смарт-контракт "Завещание"

## Описание смарт-контракта
Смарт-контракт "Завещание" представляет собой контракт на платформе Ethereum, который позволяет владельцу контракта указать наследников и передать им наследство после своей смерти. Контракт реализован на языке Solidity и соответствует стандарту ERC721, что позволяет использовать его совместно с токенами ERC721, такими как крипто-коллекции или игровые предметы.

## Функционал
Смарт-контракт "Завещание" предоставляет следующий функционал:

* Владелец контракта может указать наследников, передавая им адреса и доли наследства.
* Владелец контракта может добавлять предметы (токены ERC721) в список наследства и указывать их описания.
* Владелец контракта может активировать наследство, указав адрес наследника, и передать ему наследство в соответствии с указанными долями и предметами.
* Наследники могут просматривать информацию о наследстве, включая сумму наследства, предметы наследства и статус активации наследства.

## Работа со смарт-контрактом
1. Владелец контракта развертывает смарт-контракт на платформе Ethereum и указывает юриста с помощью функции **setLawyer()**, который распределит наследство после смерти владельца.
2. Далее владелец устанавливает наследство с помощью функции **setInheritance()**, указывая адрес наследника, долю наследства и предметы наследства (опционально).
3. Наследник может просматривать информацию о наследстве с помощью функции **getInheritanceWithTokenIds()**, чтобы удостовериться, что он указан в списке наследников.
4. После смерти владельца контракта, юрист запускает процесс передачи наследства, вызвав функцию **activateInheritance()**.
5. При необходимости, можно посмотреть кому в данный момент принадлежит тот или иной токен, вызвав функцию **checkTokenOwner()**.

## Пример
Смарт-контракт был развернут на тестовой сети Sepolia Ethereum с помощью Remix - инструмента для разработки смарт-контрактов.

#### Действующие стороны
Смарт-контракт: 0xFa703993dCd37889223d133DEDe7293186A052ec  
Владелец: 0x6A90604e0BbD73D88472b2968eDE04351f656d10  
Юрист: 0xfD3B9e007F8277a446b5969d57A74DcC1591b2fE  
Наследник: 0x84272407d198a4f557d1984f60Ed85B58eC8D631

#### Порядок действий (транзакции)
1. Владелец создал смарт-контракт
2. Владелец указал юриста
3. Владелец указал наследство для наследника (0.2 SepoliaETH, машина и апартаменты, за которыми закрепляются токены erc721)
4. Юрист активировал процесс передачи наследства наследнику


![alt-текст](https://github.com/KrutoiOblom/Inheritance/blob/main/Transactions.png "Транзакции смарт-контракта")


## Заключение
Смарт-контракт "Завещание" предоставляет удобный и безопасный способ управления наследством на платформе Ethereum. Он позволяет владельцу контракта указать наследников, передав им доли наследства и предметы наследства, и обеспечивает прозрачность и автоматическое выполнение передачи наследства в соответствии с заданными условиями. Смарт-контракт также предоставляет возможность обновлять информацию о наследстве, пополнять баланс контракта и отменять наследство при необходимости.

Для использования смарт-контракта "Завещание" необходимо иметь кошелек Ethereum и подключение к сети Ethereum. Контракт может быть развернут на тестовой или основной сети Ethereum с помощью популярных инструментов разработки смарт-контрактов, таких как Remix, Truffle или OpenZeppelin.

Для взаимодействия с контрактом, пользователи могут вызывать функции контракта через транзакции, используя подходящий клиент Ethereum, такой как MetaMask, MyEtherWallet или Geth. Взаимодействие с контрактом включает вызов функций, передачу параметров и подписание транзакций с помощью приватного ключа владельца контракта.

Безопасность смарт-контракта "Завещание" обеспечивается с использованием проверок доступа к функциям и обработки ошибок в случае некорректных операций или состояний контракта. Однако, перед использованием контракта на основной сети Ethereum, рекомендуется провести тщательное тестирование и аудит контракта для обеспечения его безопасности и надежности.

Смарт-контракт "Завещание" предоставляет удобное решение для управления наследством на платформе Ethereum, обеспечивая автоматическое выполнение передачи наследства и прозрачность процесса. Он может быть использован как основа для разработки более сложных систем управления наследством или дополнен другим функционалом в соответствии с требованиями конкретного проекта.


---

Задание выполнил:
Игнатьев Петр | МПИ-22-1
